\chapter{Metodologia \label{metodologia}}

Neste capítulo, serão definidas as metodologias a serem utilizada
para a realização da detecção de transições.

\begin{figure}[h|top]
 \centering
 \includegraphics[width=0.4\linewidth]{imagens/metodologia.png}
 \caption{Diagrama esquemático da metodologia proposta.}
 \label{img_metodologia}
\end{figure}

A Figura \ref{img_metodologia} mostra um esquema geral da
metodologia proposta neste trabalho.

\section{Cortes \label{met_cortes}}

\begin{figure}[h|top]
 \centering
 \includegraphics[width=0.9\linewidth]{imagens/metodologia_cortes.png}
 \caption{Metodologia utilizada para a detecção de Cortes.}
 \label{img_metcortes}
\end{figure}

A Figura \ref{img_metcortes} representa a metodologia utilizada para
a detecção de transições do tipo Corte:

\subsection{Montagem do Ritmo Visual \label{met_cortes_RV}}

Para gerar o Ritmo Visual do vídeo, será utilizado o processo de
transformação da diagonal principal de todos os frames em colunas do
Ritmo Visual, como visto na Seção \ref{ritmo_visual}.

\subsection{Suavização da imagem \label{met_cortes_suavizacao}}

Homogeneização da imagem, através da aplicação de um filtro espacial
do tipo passa-baixas, o qual utiliza o processo de convolução (Seção
\ref{filtragem_espacial}), permitindo que a imagem torne-se mais
suave e com menos ruídos.

\subsection{Operador Sobel \label{met_cortes_sobel}}

Uma vez suavizada a imagem, será aplicado o operador Sobel, para
realizar a detecção das bordas. Como visto na seção
\ref{deteccao_de_bordas}, com a aplicação deste operador é possível
obter o mapa de bordas do Ritmo Visual, o qual irá possivelmente
mostrar a localização de possíveis transições de cortes no vídeo.

\subsection{Limiar de Corte \label{met_cortes_limiar}}

Gerado o mapa de bordas, será necessário determinar quais bordas
serão consideradas transições de cortes e quais serão ignoradas pelo
fato de pertencerem a objetos da imagem. Tal processo será realizado
através da contagem de pontos pertencentes às retas verticais
detectadas. Quanto maior for este número, maior a possibilidade da
borda estar representando um corte. Com isso, gera-se uma limiar, o
que possibilita realizar a classificação entre aquilo que representa
a borda de um objeto, e daquilo que representa uma transição de
corte.

\subsection{Cortes detectados \label{met_cortes_detectados}}

No final deste processo, estarão identificadas as transições de
corte do vídeo.

\section{Fade-In \label{met_fadein}}

\begin{figure}[h|top]
 \centering
 \includegraphics[width=1.0\linewidth]{imagens/metodologia_fades.png}
 \caption{Metodologia utilizada para a detecção de Cortes.}
 \label{img_metcortes}
\end{figure}

Como visto na Seção \ref{ed_fadein}, o fade-in é uma transição de
tomadas mais escuras para tomadas mais claras.

\subsection{Ritmo Visual}

O primeiro passo para a detectar um fade é obter o ritmo visual por
histograma da seqüencia de frames.

\subsection{Detecção de pontos de Máxima}

Em cima de cada histograma, sao obtidos os pontos de maxima, que e o
ponto (escala de cinza) que tem a maior concentração na imagem.

\subsection{Derivada da Reta}

A derivada da reta é realizada a fim de encontrar variações no
padrão da reta, ou seja, quando a tomada mantém uma certa
uniformidade, a derivada é 0, quando a tomada começa a modificar, a
derivada é =! 0, quando o fade termina (no caso do fade-out) a
variação volta a ficar 0, pois a imagem volta a ficar uniforme (no
caso: um frame preto). A diferença entre fade-in e fade-out é que no
momento que a tomada começa a modificar, a derivada fica negativa e
positiva, respectivamente.
